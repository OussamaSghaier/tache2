<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Animations.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Cryptomator Desktop App</a> &gt; <a href="index.source.html" class="el_package">org.cryptomator.ui.common</a> &gt; <span class="el_source">Animations.java</span></div><h1>Animations.java</h1><pre class="source lang-java linenums">package org.cryptomator.ui.common;

import javafx.animation.Animation;
import javafx.animation.Interpolator;
import javafx.animation.KeyFrame;
import javafx.animation.KeyValue;
import javafx.animation.RotateTransition;
import javafx.animation.SequentialTransition;
import javafx.animation.Timeline;
import javafx.beans.value.WritableValue;
import javafx.scene.Node;
import javafx.stage.Window;
import javafx.util.Duration;
import java.util.stream.IntStream;

<span class="nc" id="L16">public class Animations {</span>

	public static Timeline createShakeWindowAnimation(Window window) {
<span class="nc" id="L19">		WritableValue&lt;Double&gt; writableWindowX = new WritableValue&lt;&gt;() {</span>
			@Override
			public Double getValue() {
<span class="nc" id="L22">				return window.getX();</span>
			}

			@Override
			public void setValue(Double value) {
<span class="nc" id="L27">				window.setX(value);</span>
<span class="nc" id="L28">			}</span>
		};
<span class="nc" id="L30">		return new Timeline( //</span>
<span class="nc" id="L31">				new KeyFrame(Duration.ZERO, new KeyValue(writableWindowX, window.getX())), //</span>
<span class="nc" id="L32">				new KeyFrame(new Duration(100), new KeyValue(writableWindowX, window.getX() - 22.0)), //</span>
<span class="nc" id="L33">				new KeyFrame(new Duration(200), new KeyValue(writableWindowX, window.getX() + 18.0)), //</span>
<span class="nc" id="L34">				new KeyFrame(new Duration(300), new KeyValue(writableWindowX, window.getX() - 14.0)), //</span>
<span class="nc" id="L35">				new KeyFrame(new Duration(400), new KeyValue(writableWindowX, window.getX() + 10.0)), //</span>
<span class="nc" id="L36">				new KeyFrame(new Duration(500), new KeyValue(writableWindowX, window.getX() - 6.0)), //</span>
<span class="nc" id="L37">				new KeyFrame(new Duration(600), new KeyValue(writableWindowX, window.getX() + 2.0)), //</span>
<span class="nc" id="L38">				new KeyFrame(new Duration(700), new KeyValue(writableWindowX, window.getX())) //</span>
		);
	}

	public static SequentialTransition createDiscrete360Rotation(Node toAnimate) {
<span class="nc" id="L43">		var animation = new SequentialTransition(IntStream.range(0, 8).mapToObj(i -&gt; Animations.createDiscrete45Rotation()).toArray(Animation[]::new));</span>
<span class="nc" id="L44">		animation.setCycleCount(Animation.INDEFINITE);</span>
<span class="nc" id="L45">		animation.setNode(toAnimate);</span>
<span class="nc" id="L46">		return animation;</span>
	}

	private static RotateTransition createDiscrete45Rotation() {
<span class="nc" id="L50">		var animation = new RotateTransition(Duration.millis(100));</span>
<span class="nc" id="L51">		animation.setInterpolator(Interpolator.DISCRETE);</span>
<span class="nc" id="L52">		animation.setByAngle(45);</span>
<span class="nc" id="L53">		animation.setCycleCount(1);</span>
<span class="nc" id="L54">		return animation;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>